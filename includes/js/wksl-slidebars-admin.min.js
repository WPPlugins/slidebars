function wk_json_setting(e){function t(){var t=jQuery(e.container).children(e.valueDisplay);t.html(""),JSON.parse(jQuery(e.container).children(e.valueContainer).val()).map(function(o){t.append(n(o)).children("#page_id-"+o).children(e.valueRemover).click(function(){i(parseInt(jQuery(this).parent(".wk-json-value-item").attr("data-page_id")))})})}function n(t){var n=jQuery(e.container).children("select").children('option[value="'+t+'"]').text();return'<li class="wk-json-value-item" data-page_id="'+t+'" id="page_id-'+t+'">'+n+'<span class="'+e.valueRemover.substr(1)+'">-</span></li>'}function i(n){var i=jQuery(e.container).children(e.valueContainer),o=JSON.parse(i.val());o.indexOf(n)!=-1&&(o.splice(o.indexOf(n),1),i.val(JSON.stringify(o)),t())}t(),jQuery(e.container).children(e.valueAdder).click(function(){var n=jQuery(this).siblings(e.valueContainer),i=parseInt(jQuery(this).siblings("select").val()),o=JSON.parse(n.val());o.indexOf(i)===-1&&(o.push(i),n.val(JSON.stringify(o)),t())})}function wk_select_setting(e){function t(){jQuery(e.container).find(e.option+".active").removeClass("active");var t=jQuery(e.container).find(e.valueContainer).val();jQuery(e.container).find(e.option+'[data-value="'+t+'"]').addClass("active")}function n(t){jQuery(e.container).find(e.option+".active").removeClass("active"),jQuery(e.container).find(e.option+'[data-value="'+t+'"]').addClass("active"),jQuery(e.container).find(e.valueContainer).val(t)}function i(t){var n=jQuery(".active").offset().top-jQuery(e.optionsContainer).offset().top-t;jQuery(e.optionsContainer).scrollTop(n)}t(),jQuery(e.container).find(e.valueContainer).change(function(){t()}),jQuery(e.container).find(e.option).click(function(){n(jQuery(this).attr("data-value")),jQuery(e.optionsContainer).hasClass("method-search")&&(jQuery(e.option).each(function(){jQuery(this).show()}),i(0),jQuery(e.optionsContainer).removeClass("method-search"))}),jQuery(e.container).find(e.option+".active").length>0&&i(70);var o=function(){var e=0;return function(t,n){clearTimeout(e),e=setTimeout(t,n)}}();jQuery(e.container).find(e.searchField).on("keyup keypress",function(e){var t=e.which?e.which:e.keyCode;if(13==t)return e.preventDefault(),!1}),jQuery(e.container).find(e.searchField).keyup(function(t){jQuery(e.optionsContainer).hasClass("method-search")||jQuery(e.optionsContainer).addClass("method-search"),jQuery(e.container).find(e.valueContainer).val().length<=0&&jQuery(e.optionsContainer).removeClass("method-search"),o(function(){var t=jQuery(e.container).find(e.searchField).val();jQuery(e.option).each(function(){var e=jQuery(this).attr("class");e.search(t)>=0?jQuery(this).show():jQuery(this).hide()})},300)})}function wp_color_picker(e){jQuery(e).wpColorPicker()}jQuery(document).ready(function(){WordpressSettingsTooltips.create("wksl_slidebars_settings[preview_mode]",wksl_settings_content.preview_mode_tooltip),WordpressSettingsTooltips.create("wksl_slidebars_settings[hide_on]",wksl_settings_content.hide_on_tooltip),WordpressSettingsTooltips.create("wksl_slidebars_settings[push_content]",wksl_settings_content.push_content_tooltip),WordpressSettingsTooltips.create("wksl_slidebars_settings[use_content_overlay]",wksl_settings_content.use_content_overlay_tooltip),wp_color_picker(".wksl-slidebars-color-field"),wk_select_setting({container:".wk-select-setting",option:".wk-select-value-option",valueContainer:".wk-select-value-container",optionsContainer:".wk-select-options-container",searchField:".wk-select-value-search"}),wk_json_setting({container:".wk-json-setting",valueAdder:".wk-json-value-adder",valueRemover:".wk-json-value-remover",valueContainer:".wk-json-value-container",valueDisplay:".wk-json-value-display"})});var WordpressSettingsTooltips=function(e){function t(t){e(t).each(function(){n(this)&&i(this.settingName)&&e('input[name="'+this.settingName+'"]').parents("tr").children('th[scope="row"]').append('<span class="wordpress-settings-tooltip-container">?</span>').children(".wordpress-settings-tooltip-container").mouseover(r).mouseleave(s).css(a().icon).append(o(this.text)).children(".wordpress-settings-tooltip-text").css(a().tooltip)})}function n(e){return"text"in e&&"string"==typeof e.text&&"settingName"in e&&"string"==typeof e.settingName}function i(t){return e(' input[name="'+t+'"]').length>0}function o(e){return'<span class="wordpress-settings-tooltip-text">'+e+"</span>"}function r(){jQuery(this).children(".wordpress-settings-tooltip-text").css("opacity","1")}function s(){jQuery(this).children(".wordpress-settings-tooltip-text").css("opacity","0")}function a(){var e={"font-size":"13px","background-color":"#a0a5aa",height:"18px",width:"18px",color:"white","text-align":"center","line-height":"18px",display:"inline-block","border-radius":"100%","margin-left":"10px",position:"relative",cursor:"pointer"},t={"font-size":"13px","background-color":"white",color:"black",position:"absolute",left:"25px",top:"0",width:"200px","z-index":"10000","pointer-events":"none","box-shadow":"0px 0px 5px rgba(0,0,0,0.3)",opacity:"0",transition:"opacity 0.15s ease",padding:"4px"};return{icon:e,tooltip:t}}if(void 0===e)throw new Error("jQuery is not defined.");return t.create=function(e,n){t([{settingName:e,text:n}])},t}(jQuery);